(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var o,i,a,l,r,s=(o=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],i=function(){function n(e){var o=e.targetModal,i=e.triggers,a=void 0===i?[]:i,l=e.onShow,r=void 0===l?function(){}:l,s=e.onClose,d=void 0===s?function(){}:s,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,m=e.closeTrigger,h=void 0===m?"data-micromodal-close":m,f=e.openClass,v=void 0===f?"is-open":f,g=e.disableScroll,p=void 0!==g&&g,y=e.disableFocus,b=void 0!==y&&y,E=e.awaitCloseAnimation,k=void 0!==E&&E,w=e.awaitOpenAnimation,C=void 0!==w&&w,L=e.debugMode,M=void 0!==L&&L;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.modal=document.getElementById(o),this.config={debugMode:M,disableScroll:p,openTrigger:u,closeTrigger:h,openClass:v,onShow:r,onClose:d,awaitCloseAnimation:k,awaitOpenAnimation:C,disableFocus:b},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a;return i=n,(a=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(o);return Array.apply(void 0,t(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),n}(),a=null,l=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},r=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)l(n);return!0},{init:function(e){var n=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),o=t(document.querySelectorAll("[".concat(n.openTrigger,"]"))),l=function(e,t){var n=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===n[o]&&(n[o]=[]),n[o].push(e)})),n}(o,n.openTrigger);if(!0!==n.debugMode||!1!==r(o,l))for(var s in l){var d=l[s];n.targetModal=s,n.triggers=t(d),a=new i(n)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===l(e)||(a&&a.removeEventListeners(),(a=new i(n)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});window.MicroModal=s;const d=s;class c{constructor(e,t,n=[]){this.name=e,this.id=t,this.tasks=n}addTask(e){this.tasks.push(e)}}class u{constructor(e,t,n,o){this.name=e,this.id=t,this.comments=n,this.dueDate=o}}let m=document.getElementById("add-project"),h=(document.getElementById("project"),document.getElementById("projects-list")),f=document.getElementById("projects-main"),v=document.getElementById("project-name"),g=document.getElementById("project-view"),p=(document.getElementById("modal-content"),document.getElementById("modal-1-title")),y=(document.getElementById("modal-body"),document.getElementById("save-modal"),document.getElementById("todo-main"),document.getElementById("add-project-container")),b=document.getElementById("comments-input"),E=document.getElementById("modal-save-changes"),k=document.getElementById("due-date-input");m.addEventListener("click",(function(){m.style.display="none";let e=document.createElement("input");f.appendChild(e),e.id="add-project-input-box";let t=document.createElement("button"),n=document.createElement("button");t.innerHTML="Add",n.innerHTML="Cancel",t.id="add-project-button",n.id="cancel-project-button",y.appendChild(t),y.appendChild(n),t.addEventListener("click",(function(){let t=e.value;e.value="",function(e){let t=new c(e,C);C+=1,w.push(t),localStorage.setItem("projects",JSON.stringify(w)),M(),I(t)}(t)})),n.addEventListener("click",(function(){e.parentNode.removeChild(e),n.parentNode.removeChild(n),t.parentNode.removeChild(t),m.style.display="inline-block"}))}));let w=[],C=3,L=0;if(null===localStorage.getItem("projects")){let e=new c("Personal",1);w.push(e);let t=new c("Work",2);w.push(t),localStorage.setItem("projects",JSON.stringify(w))}else{let e=localStorage.getItem("projects");e=JSON.parse(e);for(let t=0;t<e.length;t++){let n=new c(e[t].name,e[t].id,e[t].tasks);w.push(n)}}function M(){for(;h.firstChild;)h.removeChild(h.firstChild);for(let e=0;e<w.length;e++){let t=document.createElement("li");h.appendChild(t),t.innerHTML=w[e].name,t.addEventListener("click",(function(){I(w[e])}))}}function I(e){for(v.innerHTML=e.name;g.firstChild;)g.removeChild(g.firstChild);if(e.tasks)for(let t=0;t<e.tasks.length;t++){let n=document.createElement("li");n.id="todo-list",g.appendChild(n),n.innerHTML=e.tasks[t].name,n.addEventListener("click",(function(){var n;n=e.tasks[t],b.value="",k.value="",n.comments&&(b.value=n.comments),n.dueDate&&(k.value=n.dueDate),p.innerHTML=n.name,d.init(),d.show("modal-1"),E.onclick=function(){!function(e,t,n){e.comments=t,e.dueDate=n,e.dueDate=n}(n,b.value,k.value)}}))}!function(e){let t=document.createElement("button");g.appendChild(t),t.innerHTML="+ Add Task",t.id="task-button",t.addEventListener("click",(function(){t.style.display="none";let n=document.createElement("input");n.id="task-input",g.appendChild(n);let o=document.createElement("button");o.id="add-task-button",g.appendChild(o),o.innerHTML="Add",o.addEventListener("click",(function(){!function(e,t){let n=new u(e,L);L+=1,t.addTask(n),localStorage.setItem("projects",JSON.stringify(w))}(n.value,e),I(e)}))}))}(e)}M(),I(w[0])})();